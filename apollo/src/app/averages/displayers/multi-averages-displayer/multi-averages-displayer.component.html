<fieldset>
   <legend>{{ title }}</legend>
   @if(yearDisplay) {
      <button mat-raised-button
         class="alternatives-button"
         color="accent"
         (click)="onSetAlternatives()">{{ "AVERAGES.DISPLAY.SET_ALTERNATIVES_LABEL" | transloco }}</button>
   }
   <p>
      {{ "AVERAGES.DISPLAY.WEIGHTED_AVERAGE" | transloco }}: {{ weightedAverage() | displayValue }}
      @if(alternativeWeightedAverage()) {
         <span class="alternative-data">
            <mat-icon>arrow_right_alt</mat-icon>
            {{ alternativeWeightedAverage() | displayValue }}
         </span>
      }
   </p>
   <p>
      {{ "AVERAGES.DISPLAY.CREDIT_SUM" | transloco }}: {{ creditSum() | displayValue }}
      @if(alternativeCreditSum()) {
         <span class="alternative-data">
            <mat-icon>arrow_right_alt</mat-icon>
            {{ alternativeCreditSum() | displayValue }}
         </span>
      }
   </p>
   <p>
      {{ "AVERAGES.DISPLAY.CREDIT_INDEX" | transloco }}: {{ creditIndex() | displayValue }}
      @if(alternativeCreditIndex()) {
         <span class="alternative-data">
            <mat-icon>arrow_right_alt</mat-icon>
            {{ alternativeCreditIndex() | displayValue }}
         </span>
      }
   </p>
   <p>
      {{ "AVERAGES.DISPLAY.ADJUSTED_CREDIT_INDEX" | transloco }}: {{ adjustedCreditIndex() | displayValue }}
      @if(alternativeAdjustedCreditIndex()) {
         <span class="alternative-data">
            <mat-icon>arrow_right_alt</mat-icon>
            {{ alternativeAdjustedCreditIndex() | displayValue }}
         </span>
      }
   </p>
   @if(yearDisplay) {
      <div class="year-averages-container" *ngLet="years()[0] as currentYear">
         <apo-averages-displayer
            [title]="'AVERAGES.YEAR_AVERAGES.FIRST_SEMESTER.LABEL' | transloco"
            [gradeData]="currentYear.firstSemesterGrades"
            [alternativesData]="currentYear.alternativeGrades?.firstSemester"></apo-averages-displayer>
         <apo-averages-displayer
            [title]="'AVERAGES.YEAR_AVERAGES.SECOND_SEMESTER.LABEL' | transloco"
            [gradeData]="years()[0].secondSemesterGrades"
            [alternativesData]="currentYear.alternativeGrades?.secondSemester"></apo-averages-displayer>
      </div>
   }
</fieldset>
