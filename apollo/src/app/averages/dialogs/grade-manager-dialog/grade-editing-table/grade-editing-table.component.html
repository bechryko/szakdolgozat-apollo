<div class="grade-editing-table-container">
   <div class="mat-mdc-table">
      <div class="input-table-header mat-mdc-table-row mat-mdc-header-cell">{{ titleKey | transloco }}</div>
   </div>
   <table mat-table [dataSource]="grades">
      <ng-container matColumnDef="name">
         <th mat-header-cell *matHeaderCellDef>{{ "AVERAGES.DIALOGS.TABLE_HEADERS.NAME" | transloco }}</th>
         <td mat-cell *matCellDef="let idx = index">
            <input class="table-cell-input wide-column"
               [placeholder]="'AVERAGES.DIALOGS.NAME_INPUT_PLACEHOLDER' | transloco"
               [(ngModel)]="grades[idx].name">
         </td>
      </ng-container>
      <ng-container matColumnDef="rating">
         <th mat-header-cell *matHeaderCellDef>{{ "AVERAGES.DIALOGS.TABLE_HEADERS.RATING" | transloco }}</th>
         <td mat-cell *matCellDef="let idx = index">
            <input class="table-cell-input"
               [(ngModel)]="grades[idx].rating">
         </td>
      </ng-container>
      <ng-container matColumnDef="credit">
         <th mat-header-cell *matHeaderCellDef>{{ "AVERAGES.DIALOGS.TABLE_HEADERS.CREDIT" | transloco }}</th>
         <td mat-cell *matCellDef="let idx = index">
            <input class="table-cell-input"
               [(ngModel)]="grades[idx].credit">
         </td>
      </ng-container>
      <ng-container matColumnDef="remove">
         <th mat-header-cell *matHeaderCellDef></th>
         <td mat-cell *matCellDef="let idx = index">
            <button mat-flat-button
               color="warn"
               (click)="removeGrade(grades, idx)">{{ "AVERAGES.DIALOGS.GRADE_REMOVE_LABEL" | transloco }}</button>
         </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
   </table>
   <div class="mat-mdc-table">
      <div class="input-table-footer">
         <button mat-raised-button
            color="accent"
            (click)="addGrade(grades)">{{ "AVERAGES.DIALOGS.GRADE_ADD_LABEL" | transloco }}</button>
         <apo-file-upload
            [parserFn]="fileParserFn"
            (fileDataChange)="fileUpload($event, grades)"
            [confirmationDialogTableHeaderKeys]="confirmationDialogTableHeaderKeys"></apo-file-upload>
      </div>
   </div>
</div>
